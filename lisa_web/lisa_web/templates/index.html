{% extends "bootstrap/base.html" %}
{% import "bootstrap/fixes.html" as fixes %}
<!-- {% import "bootstrap/wtf.html" as wtf %} -->

{% block head %}{{super()}}{{fixes.ie8()}}{% endblock %}

{% block metas %}
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

{% endblock %}

{% block title %}LISA{% endblock %}

{% block html_attribs %} lang="en"{% endblock %}

{% block navbar %}
<div class="container">
  <div class="row">
  <div class="col-md-12">
    <nav class="navbar navbar-expand-lg navbar-light bg-light rounded">
      <a href="https://github.com/qinqian/lisa" class="navbar-brand">
          <img src="/static/lisa.jpg" height="50" width="50">
        <!-- <svg aria-hidden="true" class="octicon octicon-mark-github" height="22" version="1.1" viewBox="0 0 15 15" width="25"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg> -->
      </a>

      <div id="navbar">
        <ul class="nav navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="#">HOME</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="http://cistrome.org/~qqin/lisa/build/html">LISA Documentation</a>
          </li>
        </ul>
      </div>
    </nav>
  </div>
  </div>
</div>
{% endblock %}

{% block styles %}
<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
<link rel="stylesheet" href="{{ url_for('.static', filename='lisa.css') }}">
{% endblock %}

{% block content %}
<div class="container">
  <div class="row align-items-start">
    <div class="title col-sm-12">
      <h4>LISA online: TF ranking inference and enhancer identification from large scale epigenome data</h4>
    </div>
  </div>

  <form action="{{ url_for('submit_lisa') }}" method="post">
      {{ form.csrf_token() }} {{ wtf.form_errors(form, hiddens='only') }}
      <div class="row">
        <div class="col box1">
          <div class="form-group">
            <label class="row col-form-label">{{form.species.label}}</label>
            <div class="row">
              {{form.species(class="form-control")}}
            </div>
          </div>
          <div class="form-group">
            <label class="row col-form-label">{{form.mark.label}}</label>
            <div class="row">
              {{form.mark(class="form-control")}}
            </div>
          </div>
          <div class="form-group">
            <label class="row col-form-label">{{form.method.label}}</label>
            <div class="row">
              {{form.method(class="form-control")}}
            </div>
          </div>
        </div>

        <div class="col box2">
          <div class="form-group">
            <label class="row col-form-label">{{form.genes.label}}</label>
            <div class="row">
              {{form.genes(class="form-control genes", placeholder="input less than 200 genes (refseq or symbol); for more genes, user can refer to the documentation to install the local version  ")}}
            </div>
          </div>
        </div>
      </div>

      <div class="row run justify-content-md-center">
          {{form.mail(class="form-control col-sm-3 ", placeholder="Optional User E-mail")}}
          {{form.name(class="form-control col-sm-3 ", placeholder="Job Name")}}
          <button type="submit" class="offset-sm-1 btn btn-primary">Run</button>
          <p style="color:red; display: {{message}}; font:italic bold 12px/20px arial,sans-serif;">too many genes!</p>
      </div>
      <!-- {% for message in get_flashed_messages() %} -->
      <!-- <div class="alert alert-warnings"> -->
      <!--   {{message}} -->
      <!-- </div> -->
      <!-- {% endfor %} -->
  </form>

  <div class="row footer justify-content-md-center">
    <footer>
      Hosted at cistrome, created by Qian Qin.
    </footer>
  </div>
</div>

{% endblock %}


{% block scripts %}
<!-- {{ super() }} -->
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script src="{{ url_for('.static', filename='jquery-3.2.1.min.js') }}"></script>
<script src="{{ url_for('.static', filename='popper.min.js') }}"></script>
<script src="http://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
<!-- <script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script> -->
<script src="{{ url_for('.static', filename='lisa.js') }}" type="text/javascript"></script>
{% endblock %}
